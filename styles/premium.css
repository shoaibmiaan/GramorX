/* =========================
   Premium tokens + themes
   (inline: no @import)
   ========================= */

/* Base tokens (fallbacks) */
:root {
  --pr-bg: 246 246 248;
  --pr-surface: 255 255 255;
  --pr-text: 18 18 20;
  --pr-muted: 110 110 125;

  --pr-primary: 88 80 236;
  --pr-primary-fg: 255 255 255;

  --pr-accent: 236 72 153;
  --pr-accent-fg: 255 255 255;

  --pr-border: 229 231 235;
  --pr-ring: 99 102 241;

  --pr-success: 34 197 94;
  --pr-warning: 245 158 11;
  --pr-danger: 239 68 68;
}

/* Wrapper scope (important for isolation) */
.premium-root {
  font-family: var(--font-premium, Poppins, ui-sans-serif, system-ui, sans-serif);
  color: rgb(var(--pr-text));
  background-color: rgb(var(--pr-bg));
  min-height: 100vh;
}

/* Light (default) */
.premium-root[data-pr-theme="light"] {
  --pr-bg: 246 246 248;
  --pr-surface: 255 255 255;
  --pr-text: 18 18 20;
  --pr-muted: 110 110 125;

  --pr-primary: 88 80 236;
  --pr-primary-fg: 255 255 255;

  --pr-accent: 236 72 153;
  --pr-accent-fg: 255 255 255;

  --pr-border: 229 231 235;
  --pr-ring: 99 102 241;
}

/* Dark */
.premium-root[data-pr-theme="dark"] {
  --pr-bg: 14 15 22;
  --pr-surface: 21 24 35;
  --pr-text: 232 234 243;
  --pr-muted: 153 160 180;

  --pr-primary: 96 165 250;
  --pr-primary-fg: 7 14 24;

  --pr-accent: 196 181 253;
  --pr-accent-fg: 17 24 39;

  --pr-border: 36 41 58;
  --pr-ring: 167 139 250;
}

/* Aurora */
.premium-root[data-pr-theme="aurora"] {
  --pr-bg: 8 16 24;
  --pr-surface: 14 24 36;
  --pr-text: 220 244 255;
  --pr-muted: 139 161 179;

  --pr-primary: 45 212 191;
  --pr-primary-fg: 1 10 19;

  --pr-accent: 168 85 247;
  --pr-accent-fg: 255 255 255;

  --pr-border: 25 41 60;
  --pr-ring: 110 231 183;
}

/* Gold */
.premium-root[data-pr-theme="gold"] {
  --pr-bg: 8 8 10;
  --pr-surface: 16 16 18;
  --pr-text: 247 247 242;
  --pr-muted: 179 179 168;

  --pr-primary: 234 179 8;
  --pr-primary-fg: 22 22 22;

  --pr-accent: 217 119 6;
  --pr-accent-fg: 255 255 255;

  --pr-border: 39 39 42;
  --pr-ring: 250 204 21;
}

/* Helpful utilities */
.premium-glass {
  background: linear-gradient(to bottom right, rgba(255,255,255,.08), rgba(255,255,255,.03));
  box-shadow: 0 10px 30px rgba(0,0,0,.25);
  backdrop-filter: blur(12px);
  border: 1px solid rgb(var(--pr-border) / .5);
}

/* Theme-visible background stage (optional) */
.premium-stage {
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
}
.premium-stage::before {
  content: "";
  position: absolute;
  inset: 0;
  transition: background .6s ease, filter .3s ease, opacity .3s ease;
  filter: saturate(1.1);
}
.premium-root[data-pr-theme="light"] .premium-stage::before {
  background:
    radial-gradient(60vmax 60vmax at 15% 10%, rgba(88,80,236,.08), transparent 60%),
    radial-gradient(50vmax 50vmax at 85% 30%, rgba(236,72,153,.08), transparent 60%),
    linear-gradient(180deg, rgba(0,0,0,.02), rgba(0,0,0,.03));
}
.premium-root[data-pr-theme="dark"] .premium-stage::before {
  background:
    radial-gradient(40vmax 40vmax at 10% 20%, rgba(167,139,250,.25), transparent 60%),
    radial-gradient(55vmax 55vmax at 80% 70%, rgba(96,165,250,.22), transparent 65%),
    linear-gradient(180deg, rgba(7,14,24,0.0), rgba(7,14,24,.25));
}
@keyframes pr-aurora-shift {
  0% { background-position: 0% 50%, 100% 50%; }
  50% { background-position: 100% 50%, 0% 50%; }
  100% { background-position: 0% 50%, 100% 50%; }
}
.premium-root[data-pr-theme="aurora"] .premium-stage::before {
  background:
    radial-gradient(35vmax 35vmax at 20% 30%, rgba(45,212,191,.25), transparent 55%),
    radial-gradient(45vmax 45vmax at 80% 60%, rgba(168,85,247,.25), transparent 60%),
    linear-gradient(180deg, rgba(0,0,0,.08), rgba(0,0,0,.2));
  background-size: 140% 140%, 140% 140%, auto;
  animation: pr-aurora-shift 12s ease-in-out infinite;
}
.premium-root[data-pr-theme="gold"] .premium-stage::before {
  background:
    radial-gradient(42vmax 42vmax at 20% 20%, rgba(250,204,21,.22), transparent 60%),
    radial-gradient(50vmax 50vmax at 80% 70%, rgba(217,119,6,.20), transparent 65%),
    linear-gradient(180deg, rgba(0,0,0,.12), rgba(0,0,0,.28));
  filter: saturate(1.15);
}

/* =========================
   Tailwind layers
   ========================= */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================
   Premium tokens + themes
   (inline: no @import)
   ========================= */

/* Base tokens (fallbacks) */
:root {
  --pr-bg: 246 246 248;
  --pr-surface: 255 255 255;
  --pr-text: 18 18 20;
  --pr-muted: 110 110 125;

  --pr-primary: 88 80 236;
  --pr-primary-fg: 255 255 255;

  --pr-accent: 236 72 153;
  --pr-accent-fg: 255 255 255;

  --pr-border: 229 231 235;
  --pr-ring: 99 102 241;

  --pr-success: 34 197 94;
  --pr-warning: 245 158 11;
  --pr-danger: 239 68 68;
}

/* Wrapper scope (important for isolation) */
.premium-root {
  font-family: var(--font-premium, Poppins, ui-sans-serif, system-ui, sans-serif);
  color: rgb(var(--pr-text));
  background-color: rgb(var(--pr-bg));
  min-height: 100vh;
}

/* Light (default) */
.premium-root[data-pr-theme="light"] {
  --pr-bg: 246 246 248;
  --pr-surface: 255 255 255;
  --pr-text: 18 18 20;
  --pr-muted: 110 110 125;

  --pr-primary: 88 80 236;
  --pr-primary-fg: 255 255 255;

  --pr-accent: 236 72 153;
  --pr-accent-fg: 255 255 255;

  --pr-border: 229 231 235;
  --pr-ring: 99 102 241;
}

/* Dark */
.premium-root[data-pr-theme="dark"] {
  --pr-bg: 14 15 22;
  --pr-surface: 21 24 35;
  --pr-text: 232 234 243;
  --pr-muted: 153 160 180;

  --pr-primary: 96 165 250;
  --pr-primary-fg: 7 14 24;

  --pr-accent: 196 181 253;
  --pr-accent-fg: 17 24 39;

  --pr-border: 36 41 58;
  --pr-ring: 167 139 250;
}

/* Aurora */
.premium-root[data-pr-theme="aurora"] {
  --pr-bg: 8 16 24;
  --pr-surface: 14 24 36;
  --pr-text: 220 244 255;
  --pr-muted: 139 161 179;

  --pr-primary: 45 212 191;
  --pr-primary-fg: 1 10 19;

  --pr-accent: 168 85 247;
  --pr-accent-fg: 255 255 255;

  --pr-border: 25 41 60;
  --pr-ring: 110 231 183;
}

/* Gold */
.premium-root[data-pr-theme="gold"] {
  --pr-bg: 8 8 10;
  --pr-surface: 16 16 18;
  --pr-text: 247 247 242;
  --pr-muted: 179 179 168;

  --pr-primary: 234 179 8;
  --pr-primary-fg: 22 22 22;

  --pr-accent: 217 119 6;
  --pr-accent-fg: 255 255 255;

  --pr-border: 39 39 42;
  --pr-ring: 250 204 21;
}

/* Helpful utilities */
.premium-glass {
  background: linear-gradient(to bottom right, rgba(255,255,255,.08), rgba(255,255,255,.03));
  box-shadow: 0 10px 30px rgba(0,0,0,.25);
  backdrop-filter: blur(12px);
  border: 1px solid rgb(var(--pr-border) / .5);
}

/* Theme-visible background stage (existing) */
.premium-stage {
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
}
.premium-stage::before {
  content: "";
  position: absolute;
  inset: 0;
  transition: background .6s ease, filter .3s ease, opacity .3s ease;
  filter: saturate(1.1);
}
.premium-root[data-pr-theme="light"] .premium-stage::before {
  background:
    radial-gradient(60vmax 60vmax at 15% 10%, rgba(88,80,236,.08), transparent 60%),
    radial-gradient(50vmax 50vmax at 85% 30%, rgba(236,72,153,.08), transparent 60%),
    linear-gradient(180deg, rgba(0,0,0,.02), rgba(0,0,0,.03));
}
.premium-root[data-pr-theme="dark"] .premium-stage::before {
  background:
    radial-gradient(40vmax 40vmax at 10% 20%, rgba(167,139,250,.25), transparent 60%),
    radial-gradient(55vmax 55vmax at 80% 70%, rgba(96,165,250,.22), transparent 65%),
    linear-gradient(180deg, rgba(7,14,24,0.0), rgba(7,14,24,.25));
}
@keyframes pr-aurora-shift {
  0% { background-position: 0% 50%, 100% 50%; }
  50% { background-position: 100% 50%, 0% 50%; }
  100% { background-position: 0% 50%, 100% 50%; }
}
.premium-root[data-pr-theme="aurora"] .premium-stage::before {
  background:
    radial-gradient(35vmax 35vmax at 20% 30%, rgba(45,212,191,.25), transparent 55%),
    radial-gradient(45vmax 45vmax at 80% 60%, rgba(168,85,247,.25), transparent 60%),
    linear-gradient(180deg, rgba(0,0,0,.08), rgba(0,0,0,.2));
  background-size: 140% 140%, 140% 140%, auto;
  animation: pr-aurora-shift 12s ease-in-out infinite;
}
.premium-root[data-pr-theme="gold"] .premium-stage::before {
  background:
    radial-gradient(42vmax 42vmax at 20% 20%, rgba(250,204,21,.22), transparent 60%),
    radial-gradient(50vmax 50vmax at 80% 70%, rgba(217,119,6,.20), transparent 65%),
    linear-gradient(180deg, rgba(0,0,0,.12), rgba(0,0,0,.28));
  filter: saturate(1.15);
}

/* ============ Planet theme tokens ============ */
.premium-root[data-pr-theme="planet"] {
  --pr-bg: 6 10 18;               /* deep space */
  --pr-surface: 16 22 32;         /* card glass */
  --pr-text: 230 236 250;         /* icy white */
  --pr-muted: 149 160 185;        /* slate */

  --pr-primary: 100 162 255;      /* starlight blue */
  --pr-primary-fg: 4 10 18;

  --pr-accent: 168 85 247;        /* nebula violet */
  --pr-accent-fg: 255 255 255;

  --pr-border: 32 44 64;
  --pr-ring: 140 130 255;
}

/* ============ Planet stage (background) ============ */
.planet-stage { position: fixed; inset: 0; z-index: -1; pointer-events: none; overflow: hidden; }

/* Layer 1: distant stars (tiny, slow parallax) */
.planet-stars,
.planet-stars::before,
.planet-stars::after {
  position: absolute; inset: -10%;
  background-image:
    radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,.35) 40%, transparent 41%),
    radial-gradient(1.5px 1.5px at 60% 70%, rgba(255,255,255,.25) 40%, transparent 41%),
    radial-gradient(1.2px 1.2px at 80% 40%, rgba(140,130,255,.25) 40%, transparent 41%),
    radial-gradient(1.2px 1.2px at 35% 85%, rgba(168,85,247,.24) 40%, transparent 41%);
  background-repeat: repeat;
  background-size: 600px 600px;
  animation: pr-drift-slow 120s linear infinite;
  opacity: .7;
}
.planet-stars::before { content:""; animation-duration: 160s; opacity: .5; }
.planet-stars::after  { content:""; animation-duration: 200s; opacity: .35; }

@keyframes pr-drift-slow {
  from { transform: translate3d(0,0,0) }
  to   { transform: translate3d(-600px,-300px,0) }
}

/* Layer 2: aurora/nebula veil (very low contrast) */
.planet-nebula {
  position: absolute; inset: -20%;
  background:
    radial-gradient(40vmax 30vmax at 20% 30%, rgba(168,85,247,.18), transparent 60%),
    radial-gradient(50vmax 40vmax at 80% 60%, rgba(100,162,255,.16), transparent 65%);
  filter: blur(12px) saturate(1.1);
  animation: pr-nebula-sway 90s ease-in-out infinite;
}
@keyframes pr-nebula-sway {
  0%   { transform: translate3d(0,0,0) }
  50%  { transform: translate3d(2%, -1%, 0) }
  100% { transform: translate3d(0,0,0) }
}

/* Layer 3: hero planet with ring (very subtle rotation) */
.planet-body {
  position: absolute;
  width: 48vmin; height: 48vmin; right: 8%; bottom: 6%;
  border-radius: 50%;
  background:
    radial-gradient(circle at 35% 35%, rgba(255,255,255,.15) 0%, rgba(255,255,255,.06) 18%, rgba(0,0,0,.0) 40%),
    radial-gradient(circle at 60% 60%, rgba(4,10,18,.8), rgba(4,10,18,0) 60%),
    radial-gradient(circle at 50% 50%, rgba(100,162,255,.45), rgba(168,85,247,.35));
  box-shadow: 0 40px 120px rgba(100,162,255,.08);
  animation: pr-planet-roll 220s linear infinite;
}
@keyframes pr-planet-roll {
  from { transform: rotate(0deg) translateZ(0) }
  to   { transform: rotate(360deg) translateZ(0) }
}

.planet-ring {
  position: absolute; inset: 0;
  border-radius: 50%;
  background:
    radial-gradient(closest-side, transparent 58%, rgba(255,255,255,.06) 60%, transparent 63%),
    radial-gradient(closest-side, transparent 63%, rgba(168,85,247,.12) 66%, transparent 70%),
    radial-gradient(closest-side, transparent 70%, rgba(100,162,255,.10) 73%, transparent 77%);
  transform: rotateX(65deg) rotateZ(10deg);
  filter: blur(.6px);
  animation: pr-ring-breathe 18s ease-in-out infinite;
}
@keyframes pr-ring-breathe {
  0%,100% { filter: blur(.6px) brightness(1) }
  50%     { filter: blur(1.2px) brightness(1.08) }
}

/* Pause all planet animations in exam mode */
.premium-root[data-mode="exam"] .planet-stage *,
.premium-root[data-mode="exam"] .planet-stage::before,
.premium-root[data-mode="exam"] .planet-stage::after {
  animation-play-state: paused !important;
}

/* Respect user setting */
@media (prefers-reduced-motion: reduce) {
  .planet-stage *, .planet-stage::before, .planet-stage::after { animation: none !important }
}

/* =========================
   Tailwind layers
   ========================= */
@tailwind base;
@tailwind components;
@tailwind utilities;
