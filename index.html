<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>IELTS Platform Implementation Tracker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root{
      --bg:#0b0c10; --card:#111319; --text:#e8eaed; --muted:#a7b0bf;
      --border:#232733; --acc:#3b82f6; --ok:#10b981; --warn:#f59e0b;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif}
    .wrap{max-width:1200px;margin:0 auto;padding:20px}
    h1{margin:0 0 8px}
    .legend{color:var(--muted);margin-bottom:8px}
    .bar{display:flex;gap:12px;align-items:center;flex-wrap:wrap;
         position:sticky;top:0;background:rgba(11,12,16,.9);backdrop-filter:blur(6px);
         border-bottom:1px solid var(--border);padding:10px;margin:6px 0 12px}
    select, input[type="date"]{
      background:var(--card);color:var(--text);border:1px solid var(--border);
      border-radius:8px;padding:8px 10px
    }
    .stats{display:flex;gap:10px;flex-wrap:wrap;margin:6px 0 10px}
    .stat{background:var(--card);border:1px solid var(--border);padding:6px 10px;border-radius:8px}
    table{width:100%;border-collapse:collapse}
    thead th{position:sticky;top:72px;background:var(--bg);z-index:2;color:#b9c2d0;
             text-align:left;font-weight:600;padding:10px;border-bottom:1px solid var(--border)}
    tbody td{padding:10px;border-bottom:1px solid var(--border);vertical-align:top}
    tbody tr:hover{background:rgba(59,130,246,.06)}
    .pill{font-size:12px;border-radius:999px;padding:2px 8px;border:1px solid var(--border)}
    .completed{color:#052814;background:rgba(16,185,129,.15);border-color:rgba(16,185,129,.35)}
    .inprogress{color:#2f2302;background:rgba(245,158,11,.15);border-color:rgba(245,158,11,.35)}
    .notstarted{color:#2a2f3a;background:rgba(167,176,191,.12);border-color:rgba(167,176,191,.35)}
    .mod{font-size:12px;color:var(--muted)}
    .nowrap{white-space:nowrap}
    .muted{color:var(--muted)}
    .sum{min-height:1.8em}
    .spacer{flex:1}
    .btn{background:var(--card);color:var(--text);border:1px solid var(--border);border-radius:8px;padding:8px 10px;cursor:pointer}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>üìã IELTS Platform Implementation Tracker</h1>
    <div class="legend">
      Legend: <code>[ ]</code> Not started ‚Ä¢ <code>[~]</code> In progress ‚Ä¢ <code>[x]</code> Completed
    </div>
    <div class="legend">
      Today: <b id="today"></b> ‚Äî <span class="mod">Strict Phase-1 only (IELTS 4 modules + onboarding + AI eval)</span>
    </div>

    <div class="stats" id="stats">
      <div class="stat">Total: <b id="tTotal">‚Äî</b></div>
      <div class="stat">Completed: <b id="tDone" style="color:var(--ok)">‚Äî</b></div>
      <div class="stat">In progress: <b id="tProg" style="color:var(--warn)">‚Äî</b></div>
      <div class="stat">Not started: <b id="tTodo">‚Äî</b></div>
    </div>

    <div class="bar">
      <label for="filter">Filter status:</label>
      <select id="filter">
        <option value="all">All</option>
        <option value="completed">Completed</option>
        <option value="inprogress">In progress</option>
        <option value="notstarted">Not started</option>
        <option value="incomplete">Incomplete (not started + in progress)</option>
      </select>

      <label for="dateFilter">Filter date:</label>
      <input type="date" id="dateFilter" />
      <select id="dateField">
        <option value="estimated">Estimated</option>
        <option value="completion">Completion</option>
      </select>

      <button id="todayBtn" class="btn">Today‚Äôs targets</button>
      <div class="spacer"></div>
      <button id="reset" class="btn">Reset</button>
    </div>

    <table>
      <thead>
        <tr>
          <th class="nowrap">#</th>
          <th>Mark</th>
          <th>Item</th>
          <th>Developer summary (how to complete)</th>
          <th class="nowrap">Estimated</th>
          <th class="nowrap">Completion</th>
        </tr>
      </thead>
      <tbody id="tbody">
        <!-- ROWS INJECTED BY JS -->
      </tbody>
    </table>
  </div>

  <script>
    // ------- DATA (status: "[x]" | "[~]" | "[ ]") ----------
    const tasks = [
      // 1. User Module (6)
      ["[x]", "User Module ‚Äî User registration & login (email, social, phone)"],
      ["[x]", "User Module ‚Äî Profile setup (goal band, country, level)"],
      ["[ ]", "User Module ‚Äî Role-based access (student, teacher, admin)"],
      ["[ ]", "User Module ‚Äî Daily streak & study calendar"],
      ["[ ]", "User Module ‚Äî Saved tests, bookmarked content"],
      ["[ ]", "User Module ‚Äî Language preference settings"],
      // 2. Learning Module (5)
      ["[ ]", "Learning Module ‚Äî Structured course library (Academic & General)"],
      ["[ ]", "Learning Module ‚Äî Grammar, vocabulary, collocations lessons"],
      ["[x]", "Learning Module ‚Äî IELTS strategy tips (all 4 skills)"],
      ["[ ]", "Learning Module ‚Äî AI-generated practice drills"],
      ["[ ]", "Learning Module ‚Äî Progressively unlocked learning paths"],
      // 3. Mock Test Module (6)
      ["[ ]", "Mock Test Module ‚Äî Full-length IELTS mock tests (timed)"],
      ["[ ]", "Mock Test Module ‚Äî Section-wise practice tests (Listening, Reading, Writing, Speaking)"],
      ["[ ]", "Mock Test Module ‚Äî Band score simulation"],
      ["[ ]", "Mock Test Module ‚Äî Real-time test timer & tab-switch detection"],
      ["[ ]", "Mock Test Module ‚Äî Auto-save test state"],
      ["[ ]", "Mock Test Module ‚Äî Performance analytics per mock"],
      // 4. AI Evaluation Module (6)
      ["[x]", "AI Evaluation Module ‚Äî Writing Task 1 & 2 feedback with band score"],
      ["[x]", "AI Evaluation Module ‚Äî Letter writing for General Training"],
      ["[x]", "AI Evaluation Module ‚Äî Speaking audio evaluation (fluency, vocab, grammar, pronunciation)"],
      ["[x]", "AI Evaluation Module ‚Äî Transcription + pronunciation scoring"],
      ["[x]", "AI Evaluation Module ‚Äî Instant feedback with model answer"],
      ["[ ]", "AI Evaluation Module ‚Äî AI re-evaluation option"],
      // 5. Speaking Practice Module (6)
      ["[x]", "Speaking Practice Module ‚Äî Speaking test simulator (Parts 1, 2, 3)"],
      ["[x]", "Speaking Practice Module ‚Äî Voice recording and playback"],
      ["[ ]", "Speaking Practice Module ‚Äî AI or LLM-powered speaking partner"],
      ["[ ]", "Speaking Practice Module ‚Äî Accent adaptation (UK, US, AUS)"],
      ["[ ]", "Speaking Practice Module ‚Äî Roleplay conversations"],
      ["[ ]", "Speaking Practice Module ‚Äî Band prediction + detailed speaking report"],
      // 6. Listening Module (6)
      ["[~]", "Listening Module ‚Äî Audio-based practice & tests"],
      ["[~]", "Listening Module ‚Äî Auto-play per section with transcript toggle"],
      ["[~]", "Listening Module ‚Äî Question types: MCQ, gap-fill, matching"],
      ["[~]", "Listening Module ‚Äî Real-time answer input"],
      ["[~]", "Listening Module ‚Äî Band scoring & answer review"],
      ["[~]", "Listening Module ‚Äî Highlight correct vs user answer"],
      // 7. Reading Module (6)
      ["[x]", "Reading Module ‚Äî Full passage with real IELTS question types"],
      ["[ ]", "Reading Module ‚Äî Support for TF/NG, Matching, MCQ, etc."],
      ["[ ]", "Reading Module ‚Äî Question-type-wise filtering"],
      ["[x]", "Reading Module ‚Äî Timer + live progress bar"],
      ["[ ]", "Reading Module ‚Äî AI answer explanation on review"],
      ["[ ]", "Reading Module ‚Äî Stats per passage & per type"],
      // 8. Performance & Analytics Module (6)
      ["[ ]", "Performance & Analytics ‚Äî Skill-wise band progression"],
      ["[ ]", "Performance & Analytics ‚Äî Weekly/monthly reports"],
      ["[ ]", "Performance & Analytics ‚Äî Weakness detection & suggestions"],
      ["[ ]", "Performance & Analytics ‚Äî Leaderboard / percentile rank"],
      ["[ ]", "Performance & Analytics ‚Äî Study time tracker"],
      ["[ ]", "Performance & Analytics ‚Äî AI-generated personalized improvement plan"],
      // 9. Adaptive Learning Module (5)
      ["[ ]", "Adaptive Learning ‚Äî Personalized test/lesson recommendations"],
      ["[ ]", "Adaptive Learning ‚Äî Smart revision cycles (spaced repetition)"],
      ["[ ]", "Adaptive Learning ‚Äî Dynamic difficulty adjustment"],
      ["[ ]", "Adaptive Learning ‚Äî Suggested exercises based on errors"],
      ["[ ]", "Adaptive Learning ‚Äî ‚ÄúNext Best Task‚Äù AI engine"],
      // 10. Teacher/Admin Module (6)
      ["[ ]", "Teacher/Admin Module ‚Äî User monitoring dashboard"],
      ["[ ]", "Teacher/Admin Module ‚Äî Writing & speaking review override"],
      ["[ ]", "Teacher/Admin Module ‚Äî Upload custom content/tests"],
      ["[ ]", "Teacher/Admin Module ‚Äî Approve new test papers"],
      ["[ ]", "Teacher/Admin Module ‚Äî View usage metrics & heatmaps"],
      ["[ ]", "Teacher/Admin Module ‚Äî Manage subscriptions"],
      // 11. Community & Support Module (5)
      ["[ ]", "Community & Support ‚Äî Discussion forums / study groups"],
      ["[ ]", "Community & Support ‚Äî Peer review for writing/speaking"],
      ["[ ]", "Community & Support ‚Äî Live chat with AI/teachers"],
      ["[ ]", "Community & Support ‚Äî Ask a doubt (with AI reply + upvote)"],
      ["[ ]", "Community & Support ‚Äî Leaderboards, badges, achievements"],
      // 12. Monetization Module (5)
      ["[ ]", "Monetization ‚Äî Subscription tiers (free, premium, pro)"],
      ["[ ]", "Monetization ‚Äî Credits for feedback attempts"],
      ["[ ]", "Monetization ‚Äî Discount & referral code engine"],
      ["[ ]", "Monetization ‚Äî Trial vs full feature gating"],
      ["[ ]", "Monetization ‚Äî Stripe/PayPal integration"],
      // 13. Infrastructure & Security Module (5)
      ["[ ]", "Infrastructure & Security ‚Äî Fullscreen + tab-switch lockdown during tests"],
      ["[ ]", "Infrastructure & Security ‚Äî Email & phone verification"],
      ["[ ]", "Infrastructure & Security ‚Äî GDPR-compliant data storage"],
      ["[ ]", "Infrastructure & Security ‚Äî AI plagiarism checker"],
      ["[ ]", "Infrastructure & Security ‚Äî Data export for review/history"],
      // 14. Design System & UI (8)
      ["[x]", "Design System & UI ‚Äî Color tokens"],
      ["[x]", "Design System & UI ‚Äî Radius, spacing, typography tokens"],
      ["[x]", "Design System & UI ‚Äî DS primitives: Button, Card, Container, Badge, Ribbon, Input, Alert, NavLink, SocialIconLink, GradientText, StreakIndicator"],
      ["[ ]", "Design System & UI ‚Äî DS form components: Select, Checkbox, Radio, Toggle"],
      ["[ ]", "Design System & UI ‚Äî Toast/Notification service"],
      ["[ ]", "Design System & UI ‚Äî Storybook for DS components"],
      ["[ ]", "Design System & UI ‚Äî Icon optimization (Lucide/FA)"],
      ["[ ]", "Design System & UI ‚Äî Seasonal theming presets"],
      // 15. Deployment & Optimization (5)
      ["[ ]", "Deployment & Optimization ‚Äî Client-only for time/random/localStorage components"],
      ["[ ]", "Deployment & Optimization ‚Äî Image/SVG optimization"],
      ["[ ]", "Deployment & Optimization ‚Äî SEO pass + structured data"],
      ["[ ]", "Deployment & Optimization ‚Äî Accessibility audit (WCAG AA)"],
      ["[ ]", "Deployment & Optimization ‚Äî Final performance QA"]
    ];

    // ------- DEV GUIDES (auto-fill into "Developer summary" column for Phase-1 priorities) -------
    const devGuides = {
      // User
      "User Module ‚Äî Role-based access (student, teacher, admin)":
        "Supabase: add enum user_role + column on profiles; write RLS per role. In app, centralize guards in lib/routeAccess.ts and redirect unauthorized routes.",
      "User Module ‚Äî Daily streak & study calendar":
        "Table user_streaks(user_id,last_active,count). On valid activity: if last_active < today, increment else keep. Show chip with StreakIndicator in header.",
      "User Module ‚Äî Saved tests, bookmarked content":
        "Table user_saves(user_id,entity_type,entity_id). API /api/saves/toggle (auth). Render save button; show count on cards.",
      // Listening
      "Listening Module ‚Äî Band scoring & answer review":
        "Create listening_attempts + listening_answers. POST /api/listening/submit -> compare with key, store per-Q correctness, compute band; redirect to /listening/review/[attemptId].",
      "Listening Module ‚Äî Highlight correct vs user answer":
        "In review screen, render each Q: user vs correct; add .correct/.wrong classes and summary counts.",
      "Listening Module ‚Äî Real-time answer input":
        "Auto-save input on blur/change to listening_answers; debounce 400ms; disable seek during active section.",
      "Listening Module ‚Äî Question types: MCQ, gap-fill, matching":
        "Normalize schema (type, options jsonb, answer). Renderers per type; validate before submit.",
      // Reading
      "Reading Module ‚Äî Support for TF/NG, Matching, MCQ, etc.":
        "Unified renderer with strict types; keyboard support; persist answers in reading_answers; server scoring on submit.",
      "Reading Module ‚Äî AI answer explanation on review":
        "POST /api/reading/explain with passage chunk + Q + key; return 2‚Äì3 line rationale; cache by attempt+q.",
      // Writing
      "AI Evaluation Module ‚Äî AI re-evaluation option":
        "POST /api/writing/reevaluate {attemptId, mode, focus[]}; store revision row; UI shows delta vs previous.",
      // Mock tests
      "Mock Test Module ‚Äî Full-length IELTS mock tests (timed)":
        "mock_attempts + mock_answers; per-section timer; fullscreen prompt; auto-save every 10s and on nav.",
      "Mock Test Module ‚Äî Section-wise practice tests (Listening, Reading, Writing, Speaking)":
        "Reuse per-module pages; wrap in test shell to pass attemptId and collect results.",
      "Mock Test Module ‚Äî Band score simulation":
        "Aggregate sub-scores using IELTS scale; store final band + breakdown; summary screen + export.",
      "Mock Test Module ‚Äî Real-time test timer & tab-switch detection":
        "Use Page Visibility API; warn on blur; pause only if rules allow; log violations.",
      "Mock Test Module ‚Äî Auto-save test state":
        "Local snapshot + server upsert; recover draft on reload by attemptId.",
      // Performance
      "Performance & Analytics ‚Äî Skill-wise band progression":
        "SQL view aggregating last N attempts per skill; API /api/performance/summary; small chart of trend.",
      "Performance & Analytics ‚Äî Weakness detection & suggestions":
        "Heuristics on per-type accuracy; map to study tips; surface top 3 weaknesses."
    };

    // ------- PRIORITY ESTIMATE PLAN (Estimated = expected completion date) -------
    const estimateOffsets = {
      // Week 1: User + Speaking polish
      "User Module ‚Äî Role-based access (student, teacher, admin)": 3,
      "User Module ‚Äî Daily streak & study calendar": 5,
      "User Module ‚Äî Saved tests, bookmarked content": 7,
      // Week 2: Listening + Reading essentials
      "Listening Module ‚Äî Band scoring & answer review": 10,
      "Listening Module ‚Äî Highlight correct vs user answer": 11,
      "Listening Module ‚Äî Real-time answer input": 12,
      "Listening Module ‚Äî Question types: MCQ, gap-fill, matching": 13,
      "Reading Module ‚Äî Support for TF/NG, Matching, MCQ, etc.": 13,
      "Reading Module ‚Äî AI answer explanation on review": 14,
      // Week 3: Mock Tests + Writing re-eval
      "Mock Test Module ‚Äî Full-length IELTS mock tests (timed)": 17,
      "Mock Test Module ‚Äî Section-wise practice tests (Listening, Reading, Writing, Speaking)": 18,
      "Mock Test Module ‚Äî Band score simulation": 19,
      "Mock Test Module ‚Äî Real-time test timer & tab-switch detection": 20,
      "Mock Test Module ‚Äî Auto-save test state": 21,
      "AI Evaluation Module ‚Äî AI re-evaluation option": 21,
      // Week 4: Basic Performance/Analytics
      "Performance & Analytics ‚Äî Skill-wise band progression": 24,
      "Performance & Analytics ‚Äî Weakness detection & suggestions": 26
    };

    // ------- HELPERS ----------
    const tbody = document.getElementById('tbody');
    const filter = document.getElementById('filter');
    const resetBtn = document.getElementById('reset');
    const dateFilter = document.getElementById('dateFilter');
    const dateField = document.getElementById('dateField');
    const todayBtn = document.getElementById('todayBtn');

    function todayString(){
      const d = new Date();
      const y = d.getFullYear();
      const m = String(d.getMonth()+1).padStart(2,'0');
      const day = String(d.getDate()).padStart(2,'0');
      return `${y}-${m}-${day}`;
    }
    function addDays(base, n){
      const d = new Date(base);
      d.setDate(d.getDate()+n);
      const y = d.getFullYear();
      const m = String(d.getMonth()+1).padStart(2,'0');
      const day = String(d.getDate()).padStart(2,'0');
      return `${y}-${m}-${day}`;
    }
    const statusMap = { "[x]":"completed", "[~]":"inprogress", "[ ]":"notstarted" };
    function pillClass(s){ return {completed:"completed",inprogress:"inprogress",notstarted:"notstarted"}[s]||"notstarted"; }

    // ------- RENDER ----------
    function render(){
      tbody.innerHTML = "";
      const today = todayString();

      tasks.forEach((t, idx) => {
        const mark = statusMap[t[0]] || "notstarted";
        const title = t[1];
        const tr = document.createElement('tr');
        tr.className = "row";
        tr.dataset.status = mark;

        const estimated = estimateOffsets[title] != null ? addDays(today, estimateOffsets[title]) : "";
        const guide = devGuides[title] || "";

        tr.innerHTML = `
          <td class="nowrap">${idx+1}</td>
          <td><span class="pill ${pillClass(mark)}">${t[0]}</span></td>
          <td>${title}</td>
          <td class="muted sum" contenteditable="true" spellcheck="true">${guide}</td>
          <td class="nowrap"><input class="date-est" type="date" value="${estimated}" /></td>
          <td class="nowrap"><input class="date-comp" type="date" /></td>
        `;
        tbody.appendChild(tr);
      });
      updateStats();
    }

    // ------- FILTER (Status + Date on Estimated/Completion) ----------
    function applyFilter(){
      const val = filter.value;
      const chosenDate = dateFilter.value;
      const field = dateField.value; // 'estimated' | 'completion'
      const rows = tbody.querySelectorAll('tr');

      rows.forEach(r => {
        const st = r.dataset.status;
        let ok = true;

        if (val === "completed") ok = st === "completed";
        else if (val === "inprogress") ok = st === "inprogress";
        else if (val === "notstarted") ok = st === "notstarted";
        else if (val === "incomplete") ok = st !== "completed";

        if (ok && chosenDate){
          const sel = field === 'estimated' ? '.date-est' : '.date-comp';
          const inp = r.querySelector(sel);
          const v = inp ? inp.value : '';
          if (v !== chosenDate) ok = false;
        }

        r.style.display = ok ? "" : "none";
      });
    }

    // ------- STATS ----------
    function updateStats(){
      const rows = [...tbody.querySelectorAll('tr')];
      const total = rows.length;
      const completed = rows.filter(r=>r.dataset.status==="completed").length;
      const inprog   = rows.filter(r=>r.dataset.status==="inprogress").length;
      const todo     = rows.filter(r=>r.dataset.status==="notstarted").length;
      document.getElementById('tTotal').textContent = total;
      document.getElementById('tDone').textContent  = completed;
      document.getElementById('tProg').textContent  = inprog;
      document.getElementById('tTodo').textContent  = todo;
    }

    // ------- INIT & EVENTS -------
    document.getElementById('today').textContent = todayString();
    render();
    applyFilter();

    filter.addEventListener('change', applyFilter);
    dateFilter.addEventListener('change', applyFilter);
    dateField.addEventListener('change', applyFilter);

    todayBtn.addEventListener('click', () => {
      dateFilter.value = todayString();
      dateField.value = 'estimated';
      applyFilter();
    });

    resetBtn.addEventListener('click', () => {
      filter.value="all";
      dateFilter.value="";
      dateField.value="estimated";
      applyFilter();
    });
  </script>
</body>
</html>
