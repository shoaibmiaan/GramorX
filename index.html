<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>IELTS Platform Implementation Tracker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root{
      --bg:#0b0c10; --card:#111319; --text:#e8eaed; --muted:#a7b0bf;
      --border:#232733; --acc:#3b82f6; --ok:#10b981; --warn:#f59e0b;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif}
    .wrap{max-width:1200px;margin:0 auto;padding:20px}
    h1{margin:0 0 8px}
    .legend{color:var(--muted);margin-bottom:8px}
    .bar{display:flex;gap:12px;align-items:center;flex-wrap:wrap;
         position:sticky;top:0;background:rgba(11,12,16,.9);backdrop-filter:blur(6px);
         border-bottom:1px solid var(--border);padding:10px;margin:6px 0 12px}
    select, input[type="date"], button{
      background:var(--card);color:var(--text);border:1px solid var(--border);
      border-radius:8px;padding:8px 10px
    }
    .stats{display:flex;gap:10px;flex-wrap:wrap;margin:6px 0 10px}
    .stat{background:var(--card);border:1px solid var(--border);padding:6px 10px;border-radius:8px}
    table{width:100%;border-collapse:collapse;table-layout:fixed}
    thead th{position:sticky;top:56px;background:var(--bg);z-index:2;color:#b9c2d0;
             text-align:left;font-weight:600;padding:10px;border-bottom:1px solid var(--border)}
    tbody td{padding:10px;border-bottom:1px solid var(--border);vertical-align:top}
    tbody tr:hover{background:rgba(59,130,246,.06)}
    .pill{font-size:12px;border-radius:999px;padding:2px 8px;border:1px solid var(--border)}
    .completed{color:#052814;background:rgba(16,185,129,.15);border-color:rgba(16,185,129,.35)}
    .inprogress{color:#2f2302;background:rgba(245,158,11,.15);border-color:rgba(245,158,11,.35)}
    .notstarted{color:#2a2f3a;background:rgba(167,176,191,.12);border-color:rgba(167,176,191,.35)}
    .nowrap{white-space:nowrap}
    .muted{color:var(--muted)}
    .sum{min-height:1.8em}
    .col-n{width:48px}
    .col-mark{width:110px}
    .col-item{width:280px}
    .col-est,.col-comp{width:150px}
    .col-dev,.col-deploy{width:auto}
    .hint{font-size:12px;color:var(--muted)}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>üìã IELTS Platform Implementation Tracker</h1>
    <div class="legend">Legend: <code>[ ]</code> Not started ‚Ä¢ <code>[~]</code> In progress ‚Ä¢ <code>[x]</code> Completed</div>

    <div class="stats" id="stats">
      <div class="stat">Total: <b id="tTotal">‚Äî</b></div>
      <div class="stat">Completed: <b id="tDone" style="color:var(--ok)">‚Äî</b></div>
      <div class="stat">In progress: <b id="tProg" style="color:var(--warn)">‚Äî</b></div>
      <div class="stat">Not started: <b id="tTodo">‚Äî</b></div>
    </div>

    <div class="bar">
      <label for="statusFilter">Status:</label>
      <select id="statusFilter">
        <option value="all">All</option>
        <option value="completed">Completed</option>
        <option value="inprogress">In progress</option>
        <option value="notstarted">Not started</option>
        <option value="incomplete">Incomplete (not started + in progress)</option>
      </select>

      <span class="hint">|</span>

      <label for="dateFilter">Date:</label>
      <input type="date" id="dateFilter" />
      <select id="dateMode">
        <option value="either">Either (Estimate or Completion)</option>
        <option value="estimate">Estimate only</option>
        <option value="completion">Completion only</option>
      </select>

      <button id="reset" style="margin-left:auto;cursor:pointer">Reset filters</button>
    </div>

    <table>
      <thead>
        <tr>
          <th class="nowrap col-n">#</th>
          <th class="col-mark">Mark</th>
          <th class="col-item">Item</th>
          <th class="col-est">Estimate</th>
          <th class="col-comp">Completion</th>
          <th class="col-dev">Developer summary</th>
          <th class="col-deploy">Deployment summary</th>
        </tr>
      </thead>
      <tbody id="tbody">
        <!-- ROWS INJECTED BY JS -->
      </tbody>
    </table>
  </div>

  <script>
    // ---------- HELPERS ----------
    const todayISO = new Date().toISOString().slice(0,10);
    const statusMap = { "[x]":"completed", "[~]":"inprogress", "[ ]":"notstarted" };
    const pillClass = s => ({completed:"completed",inprogress:"inprogress",notstarted:"notstarted"}[s]||"notstarted");

    // ---------- SOURCE LIST (existing items kept) ----------
    const baseItems = [
      // 1. User Module (6)
      ["[x]","User Module ‚Äî User registration & login (email, social, phone)"],
      ["[x]","User Module ‚Äî Profile setup (goal band, country, level)"],
      ["[ ]","User Module ‚Äî Role-based access (student, teacher, admin)"],
      ["[ ]","User Module ‚Äî Daily streak & study calendar"],
      ["[ ]","User Module ‚Äî Saved tests, bookmarked content"],
      ["[ ]","User Module ‚Äî Language preference settings"],
      // 2. Learning Module (5)
      ["[ ]","Learning Module ‚Äî Structured course library (Academic & General)"],
      ["[ ]","Learning Module ‚Äî Grammar, vocabulary, collocations lessons"],
      ["[x]","Learning Module ‚Äî IELTS strategy tips (all 4 skills)"],
      ["[ ]","Learning Module ‚Äî AI-generated practice drills"],
      ["[ ]","Learning Module ‚Äî Progressively unlocked learning paths"],
      // 3. Mock Test Module (6)
      ["[ ]","Mock Test Module ‚Äî Full-length IELTS mock tests (timed)"],
      ["[ ]","Mock Test Module ‚Äî Section-wise practice tests (Listening, Reading, Writing, Speaking)"],
      ["[ ]","Mock Test Module ‚Äî Band score simulation"],
      ["[ ]","Mock Test Module ‚Äî Real-time test timer & tab-switch detection"],
      ["[ ]","Mock Test Module ‚Äî Auto-save test state"],
      ["[ ]","Mock Test Module ‚Äî Performance analytics per mock"],
      // 4. AI Evaluation Module (6)
      ["[x]","AI Evaluation Module ‚Äî Writing Task 1 & 2 feedback with band score"],
      ["[x]","AI Evaluation Module ‚Äî Letter writing for General Training"],
      ["[x]","AI Evaluation Module ‚Äî Speaking audio evaluation (fluency, vocab, grammar, pronunciation)"],
      ["[x]","AI Evaluation Module ‚Äî Transcription + pronunciation scoring"],
      ["[x]","AI Evaluation Module ‚Äî Instant feedback with model answer"],
      ["[ ]","AI Evaluation Module ‚Äî AI re-evaluation option"],
      // 5. Speaking Practice Module (6)
      ["[x]","Speaking Practice Module ‚Äî Speaking test simulator (Parts 1, 2, 3)"],
      ["[x]","Speaking Practice Module ‚Äî Voice recording and playback"],
      ["[ ]","Speaking Practice Module ‚Äî AI or LLM-powered speaking partner"],
      ["[ ]","Speaking Practice Module ‚Äî Accent adaptation (UK, US, AUS)"],
      ["[ ]","Speaking Practice Module ‚Äî Roleplay conversations"],
      ["[ ]","Speaking Practice Module ‚Äî Band prediction + detailed speaking report"],
      // 6. Listening Module (6)
      ["[~]","Listening Module ‚Äî Audio-based practice & tests"],
      ["[~]","Listening Module ‚Äî Auto-play per section with transcript toggle"],
      ["[~]","Listening Module ‚Äî Question types: MCQ, gap-fill, matching"],
      ["[~]","Listening Module ‚Äî Real-time answer input"],
      ["[~]","Listening Module ‚Äî Band scoring & answer review"],
      ["[~]","Listening Module ‚Äî Highlight correct vs user answer"],
      // 7. Reading Module (6)
      ["[x]","Reading Module ‚Äî Full passage with real IELTS question types"],
      ["[ ]","Reading Module ‚Äî Support for TF/NG, Matching, MCQ, etc."],
      ["[ ]","Reading Module ‚Äî Question-type-wise filtering"],
      ["[x]","Reading Module ‚Äî Timer + live progress bar"],
      ["[ ]","Reading Module ‚Äî AI answer explanation on review"],
      ["[ ]","Reading Module ‚Äî Stats per passage & per type"],
      // 8. Performance & Analytics Module (6)
      ["[ ]","Performance & Analytics ‚Äî Skill-wise band progression"],
      ["[ ]","Performance & Analytics ‚Äî Weekly/monthly reports"],
      ["[ ]","Performance & Analytics ‚Äî Weakness detection & suggestions"],
      ["[ ]","Performance & Analytics ‚Äî Leaderboard / percentile rank"],
      ["[ ]","Performance & Analytics ‚Äî Study time tracker"],
      ["[ ]","Performance & Analytics ‚Äî AI-generated personalized improvement plan"],
      // 9. Adaptive Learning Module (5)
      ["[ ]","Adaptive Learning ‚Äî Personalized test/lesson recommendations"],
      ["[ ]","Adaptive Learning ‚Äî Smart revision cycles (spaced repetition)"],
      ["[ ]","Adaptive Learning ‚Äî Dynamic difficulty adjustment"],
      ["[ ]","Adaptive Learning ‚Äî Suggested exercises based on errors"],
      ["[ ]","Adaptive Learning ‚Äî ‚ÄúNext Best Task‚Äù AI engine"],
      // 10. Teacher/Admin Module (6)
      ["[ ]","Teacher/Admin Module ‚Äî User monitoring dashboard"],
      ["[ ]","Teacher/Admin Module ‚Äî Writing & speaking review override"],
      ["[ ]","Teacher/Admin Module ‚Äî Upload custom content/tests"],
      ["[ ]","Teacher/Admin Module ‚Äî Approve new test papers"],
      ["[ ]","Teacher/Admin Module ‚Äî View usage metrics & heatmaps"],
      ["[ ]","Teacher/Admin Module ‚Äî Manage subscriptions"],
      // 11. Community & Support Module (5)
      ["[ ]","Community & Support ‚Äî Discussion forums / study groups"],
      ["[ ]","Community & Support ‚Äî Peer review for writing/speaking"],
      ["[ ]","Community & Support ‚Äî Live chat with AI/teachers"],
      ["[ ]","Community & Support ‚Äî Ask a doubt (with AI reply + upvote)"],
      ["[ ]","Community & Support ‚Äî Leaderboards, badges, achievements"],
      // 12. Monetization Module (5)
      ["[ ]","Monetization ‚Äî Subscription tiers (free, premium, pro)"],
      ["[ ]","Monetization ‚Äî Credits for feedback attempts"],
      ["[ ]","Monetization ‚Äî Discount & referral code engine"],
      ["[ ]","Monetization ‚Äî Trial vs full feature gating"],
      ["[ ]","Monetization ‚Äî Stripe/PayPal integration"],
      // 13. Infrastructure & Security Module (5)
      ["[ ]","Infrastructure & Security ‚Äî Fullscreen + tab-switch lockdown during tests"],
      ["[ ]","Infrastructure & Security ‚Äî Email & phone verification"],
      ["[ ]","Infrastructure & Security ‚Äî GDPR-compliant data storage"],
      ["[ ]","Infrastructure & Security ‚Äî AI plagiarism checker"],
      ["[ ]","Infrastructure & Security ‚Äî Data export for review/history"],
      // 14. Design System & UI (8)
      ["[x]","Design System & UI ‚Äî Color tokens"],
      ["[x]","Design System & UI ‚Äî Radius, spacing, typography tokens"],
      ["[x]","Design System & UI ‚Äî DS primitives: Button, Card, Container, Badge, Ribbon, Input, Alert, NavLink, SocialIconLink, GradientText, StreakIndicator"],
      ["[ ]","Design System & UI ‚Äî DS form components: Select, Checkbox, Radio, Toggle"],
      ["[ ]","Design System & UI ‚Äî Toast/Notification service"],
      ["[ ]","Design System & UI ‚Äî Storybook for DS components"],
      ["[ ]","Design System & UI ‚Äî Icon optimization (Lucide/FA)"],
      ["[ ]","Design System & UI ‚Äî Seasonal theming presets"]
    ];

    // ---------- NEW: Placement module (top of list, prefilled) ----------
    const placementPrefill = [
      {
        mark:"[~]",
        item:"Placement ‚Äî Quick 8‚Äëitem triage (2 per skill)",
        estimate: todayISO,
        completion:"",
        dev:`Pages Router + DS: add <code>pages/placement/index.tsx</code> (landing) and <code>pages/placement/run.tsx</code> (runner). One item UI at a time (MCQ/short).`,
        deploy:`Route link from Home ‚ÄúStart placement‚Äù. Validate dark/light.`
      },
      {
        mark:"[ ]",
        item:"Placement ‚Äî Server scoring API",
        estimate: todayISO,
        completion:"",
        dev:`Create <code>/api/placement/start</code> to issue items; <code>/api/placement/submit</code> to score. Replace rule‚Äëbased with AI later.`,
        deploy:`Smoke test with sample answers; no DB required for MVP.`
      },
      {
        mark:"[ ]",
        item:"Placement ‚Äî Persist attempt in Supabase",
        estimate:"",
        completion:"",
        dev:`Tables: <code>placement_attempts</code>, <code>placement_answers</code>. Store per‚Äëskill band + overall.`,
        deploy:`Write server with RLS; dashboard reads latest attempt.`
      },
      {
        mark:"[ ]",
        item:"Placement ‚Äî Personalized study plan",
        estimate:"",
        completion:"",
        dev:`Generate plan from bands; push user to <code>/dashboard</code> with first tasks queued for each IELTS module.`,
        deploy:`Track plan id; soft‚Äëgate features by tier.`
      }
    ];

    // ---------- Build unified tasks array of objects ----------
    const tasks = [
      ...placementPrefill,
      ...baseItems.map(([mark,item]) => ({
        mark, item, estimate:"", completion:"", dev:"", deploy:""
      }))
    ];

    // ---------- RENDER ----------
    const tbody = document.getElementById('tbody');

    function render(){
      tbody.innerHTML = "";
      tasks.forEach((t, idx) => {
        const status = statusMap[t.mark] || "notstarted";
        const tr = document.createElement('tr');
        tr.dataset.status = status;

        tr.innerHTML = `
          <td class="nowrap col-n">${idx+1}</td>
          <td class="col-mark"><span class="pill ${pillClass(status)}">${t.mark}</span></td>
          <td class="col-item">${t.item}</td>
          <td class="col-est"><input type="date" value="${t.estimate||""}" /></td>
          <td class="col-comp"><input type="date" value="${t.completion||""}" /></td>
          <td class="col-dev muted sum" contenteditable="true" spellcheck="true">${t.dev||""}</td>
          <td class="col-deploy muted sum" contenteditable="true" spellcheck="true">${t.deploy||""}</td>
        `;
        tbody.appendChild(tr);
      });
      updateStats();
      applyFilters();
    }

    // ---------- FILTERS ----------
    const statusFilter = document.getElementById('statusFilter');
    const dateFilter = document.getElementById('dateFilter');
    const dateMode = document.getElementById('dateMode');
    const resetBtn = document.getElementById('reset');

    function applyFilters(){
      const sVal = statusFilter.value;
      const dVal = dateFilter.value;
      const mVal = dateMode.value;

      const rows = tbody.querySelectorAll('tr');
      rows.forEach(r => {
        const st = r.dataset.status;
        let show = true;

        // Status filter
        if (sVal === "completed") show = st === "completed";
        else if (sVal === "inprogress") show = st === "inprogress";
        else if (sVal === "notstarted") show = st === "notstarted";
        else if (sVal === "incomplete") show = st !== "completed";

        // Date filter
        if (show && dVal){
          const est = r.querySelector('.col-est input[type="date"]').value;
          const comp = r.querySelector('.col-comp input[type="date"]').value;
          if (mVal === "estimate") show = est === dVal;
          else if (mVal === "completion") show = comp === dVal;
          else show = (est === dVal) || (comp === dVal);
        }

        r.style.display = show ? "" : "none";
      });
    }

    statusFilter.addEventListener('change', applyFilters);
    dateFilter.addEventListener('change', applyFilters);
    dateMode.addEventListener('change', applyFilters);
    resetBtn.addEventListener('click', () => {
      statusFilter.value = "all";
      dateFilter.value = "";
      dateMode.value = "either";
      applyFilters();
    });

    // ---------- STATS ----------
    function updateStats(){
      const rows = [...tbody.querySelectorAll('tr')];
      const total = rows.length;
      const completed = rows.filter(r=>r.dataset.status==="completed").length;
      const inprog   = rows.filter(r=>r.dataset.status==="inprogress").length;
      const todo     = rows.filter(r=>r.dataset.status==="notstarted").length;
      document.getElementById('tTotal').textContent = total;
      document.getElementById('tDone').textContent  = completed;
      document.getElementById('tProg').textContent  = inprog;
      document.getElementById('tTodo').textContent  = todo;
    }

    // init
    render();
  </script>
</body>
</html>
